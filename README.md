# Codebase of the work submitted for ICASSP 2023 : 
# HOW TO (VIRTUALLY) TRAIN YOUR SOUND SOURCE LOCALIZER 
## Authors: Prerak SRIVASTAVA, Antoine Deleforge, Archontis Politis, Emmanuel Vincent.

### ./Data generation  

Scripts for generation of room parameters, Room impulse responses and speech mixtures.

a) generate_simultor_params.py 
This python file depends on params.yml file, from where many different parameters can be simulation tweaked.
Simulation parameters for 3 datasets can be simulated **DIRHA**, **VOICEHOME2**, **STARSS22**
This file generate 4 .yml files : room_setup [Dimensions, absorption coeffs, surface area, volume] , source_setup [source position, Source directivity azimuth and elevation], receiver_setup [receiver position, receiver directivity azimuth and elevation] and noise_source_setup (Used for generating mixtures ) [position]

b) receiver_defination_DIRHA.py, receiver_defination_STARSS22, receiver_defination_VOICEHOME2
These python files consists of the defination of respective arrays used in the real datasets.
When called with required parameters these files return : individual position of each mic in the room, array barrycenter , azimuth and elevation of each individual mics and the center of the 2 mic array.

Distance b/w mics are as follows 
STARSS22 : 6.8CM  
DIRHA : 30 CM
VOICEHOME2 : 10.4 CM 

c) generate_rirs.py
This file generate Room impulse responses on the basis of yaml files generated by **a)**

It uses the latest version of pyroomacousitcs  https://github.com/LCAV/pyroomacoustics/tree/dev/dirpat

d) generate_noisy_mixture.py
Creates noisy mixtures from the generated room impulse responses **c)**

All the rest of the files in this dir are utility files. 

### ./retreive_real_data 
Consists scripts that retreive real data if provided with correct directory of the respective real datasets.

a) get_DIRHA_data.py

b) get_voice_home_data.py

c) get_starss22_data.py

The output is saved as a .npz format, for easy access using numpy.

### ./train_scripts
Consists of all the scripts that are required for training the DOA system based on the generated simulated dataset. 
We used off the shelve DOA architecture as presented in this paper : https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=9357962


### ./srp_phat 
SRP-PHAT scripts used for setting a baseline.
Can be used with simulated and real datasets [DIRHA, VOICEHOME2 and STARSS22]


### ./test_scripts 
Consists of all the scripts that are used for testing the DOA estimation network on simulated and real datasets.



### Paper :  https://hal.archives-ouvertes.fr/hal-03855912/document
